<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Tellstones</title>
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="stylesheet" href="style.css">
  <!-- Firebase App (obrigat√≥rio) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <!-- Firebase Database (se voc√™ usa o realtime database) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <!-- (adicione outros m√≥dulos do Firebase se necess√°rio, como auth, firestore, etc) -->
</head>
<body>
  <!-- TELA INICIAL -->
  <div id="start-screen" class="active">
    <h1>TellStones</h1>
    <div>
      <button id="create-room-btn">Criar Sala</button>
      <button id="join-room-btn">Entrar em Sala</button>
    </div>
    <div id="room-options" style="display:none;">
      <label>
        <input type="radio" name="mode" value="1x1" checked> 1x1 (Duelo)
      </label>
      <label>
        <input type="radio" name="mode" value="2x2"> 2x2 (Duplas)
      </label>
      <br>
      <input type="text" id="nome-criar" placeholder="Seu nome" maxlength="20" style="margin:10px 0;width:90%"><br>
      <button id="start-game-btn">Iniciar Jogo</button>
      <div id="codigo-sala-criada" style="margin-top:10px;color:#8ecfff;font-weight:bold;"></div>
    </div>
    <div id="join-room" style="display:none;">
      <input type="text" id="nome-entrar" placeholder="Seu nome" maxlength="20" style="margin-bottom:8px;width:90%"><br>
      <input type="text" id="room-code" placeholder="C√≥digo da sala" maxlength="8" style="margin-bottom:8px;width:90%"><br>
      <label style="color:#f1f1f1;">
        <input type="radio" name="tipo-entrada" value="jogador" checked> Jogador
      </label>
      <label style="color:#f1f1f1;">
        <input type="radio" name="tipo-entrada" value="espectador"> Espectador
      </label><br>
      <button id="enter-room-btn">Entrar</button>
    </div>
  </div>

  <!-- LOBBY -->
  <div id="lobby">
    <h2>Lobby da Sala</h2>
    <div id="lobby-codigo" style="margin-bottom:10px;"></div>
    <div>
      <strong>Jogadores:</strong>
      <ul id="lobby-jogadores"></ul>
    </div>
    <div>
      <strong>Espectadores:</strong>
      <ul id="lobby-espectadores"></ul>
    </div>
    <button id="lobby-iniciar" style="display:none;margin-top:20px;">Iniciar Jogo</button>
  </div>

  <!-- TELA DE JOGO MODERNA -->
  <div id="game">
    <div id="reserva-pedras"></div>
    <div id="info-sala">
      <div id="codigo-sala">C√≥digo: <span id="codigo-sala-valor"></span></div>
      <div id="espectadores">Espectadores: <span id="lista-espectadores"></span></div>
    </div>
    <div id="icone-acoes" title="A√ß√µes">üÉè</div>
    <div id="box-acoes" style="display:none;">
      <h3>A√ß√µes Poss√≠veis</h3>
      <ul>
        <li><strong>Colocar:</strong> Adiciona pedra √† mesa.</li>
        <li><strong>Esconder:</strong> Vira uma pedra para baixo.</li>
        <li><strong>Mover:</strong> Muda posi√ß√£o de uma pedra.</li>
        <li><strong>Trocar:</strong> Troca duas pedras de lugar.</li>
        <li><strong>Espiar:</strong> Olha uma pedra virada.</li>
        <li><strong>Desafiar:</strong> Testa o oponente sobre uma pedra virada.</li>
        <li><strong>Se Gabar:</strong> Afirma saber todas as posi√ß√µes.<br>
          <small>O oponente pode responder:<br>
          <b>1. Acreditar:</b> O jogador que fez a a√ß√£o ganha 1 ponto.<br>
          <b>2. Duvidar:</b> O jogador deve provar que sabe a combina√ß√£o das pe√ßas.<br>
          &nbsp;&nbsp;&nbsp;&nbsp;Se conseguir, vence o jogo imediatamente.<br>
          &nbsp;&nbsp;&nbsp;&nbsp;Se errar qualquer pedra, o oponente vence.<br>
          <b>3. Se gabar:</b> O oponente diz que tamb√©m sabe onde est√£o todas as pe√ßas.<br>
          &nbsp;&nbsp;&nbsp;&nbsp;Se conseguir, vence o jogo imediatamente.<br>
          &nbsp;&nbsp;&nbsp;&nbsp;Se errar qualquer pedra, o oponente vence.
          </small>
        </li>
      </ul>
    </div>
    <div id="tabuleiro-center">
      <div id="linha-vertical-pedras"></div>
      <div id="circle-pedras">
        <!-- pedras renderizadas via JS -->
      </div>
      <div id="tabuleiro-wrapper">
        <div id="linha-central"></div>
        <div id="pontos-centrais"></div>
        <button id="moeda-btn" title="Lan√ßar moeda" style="background:none;border:none;outline:none;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:20;width:auto;height:auto;">
          <span id="moeda-animada" style="display:inline-block;width:80px;height:80px;position:relative;perspective:300px;">
            <img id="moeda-frente" src="https://github.com/AliceDeSa/Tellstones/blob/main/Cara.png?raw=true" style="width:100%;height:100%;border-radius:50%;object-fit:cover;object-position:50% 52%;position:absolute;left:0;top:0;backface-visibility:hidden;transition:transform 0.6s;box-shadow:0 2px 8px #0007;background:#222;" />
            <img id="moeda-verso" src="https://github.com/AliceDeSa/Tellstones/blob/main/Coroa.png?raw=true" style="width:100%;height:100%;border-radius:50%;object-fit:cover;object-position:50% 52%;position:absolute;left:0;top:0;backface-visibility:hidden;transform:rotateY(180deg);transition:transform 0.6s;box-shadow:0 2px 8px #0007;background:#222;" />
          </span>
        </button>
        <audio id="som-moeda" src="https://github.com/AliceDeSa/Tellstones/raw/main/moeda.mp3" preload="auto"></audio>
        <img id="tabuleiro" src="https://github.com/AliceDeSa/Tellstones/blob/main/2deea767-8022-4e5e-8118-ba10d8df14bd.jpg?raw=true" alt="Tabuleiro Tellstones" />
        <div id="pedras-mesa"></div>
      </div>
      <div id="pedra-central-animada" style="display:none;"></div>
    </div>
  </div>

  <!-- Container da carta de a√ß√µes -->
  <div id="carta-acoes" style="display:none;">
    <img src="https://github.com/AliceDeSa/Tellstones/raw/main/ad5d0fc0-caaf-424b-b71c-4334c8e62921.png" alt="Carta de A√ß√µes" id="img-carta-acoes" />
    <div id="conteudo-acoes">
      <!-- As a√ß√µes ser√£o renderizadas aqui via JS -->
    </div>
  </div>

  <div id="toast-interno"></div>
  <div id="creditos">Desenvolvido por Alice de S√°</div>
  <div id="toast" style="display:none"></div>

  <div id="escolha-cara-coroa" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.7); z-index:4000; align-items:center; justify-content:center;">
    <div style="background:#222; padding:32px 40px; border-radius:16px; box-shadow:0 4px 32px #000a; text-align:center;">
      <h2>Escolha: Cara ou Coroa ?</h2>
      <button id="btn-cara" style="margin:12px 24px; font-size:1.2em; display:inline-flex; flex-direction:column; align-items:center;">
        <img src="https://github.com/AliceDeSa/Tellstones/blob/main/Cara.png?raw=true" alt="Cara" style="width:48px;height:48px;border-radius:50%;margin-bottom:6px;box-shadow:0 2px 8px #0007;" />
        Cara
      </button>
      <button id="btn-coroa" style="margin:12px 24px; font-size:1.2em; display:inline-flex; flex-direction:column; align-items:center;">
        <img src="https://github.com/AliceDeSa/Tellstones/blob/main/Coroa.png?raw=true" alt="Coroa" style="width:48px;height:48px;border-radius:50%;margin-bottom:6px;box-shadow:0 2px 8px #0007;" />
        Coroa
      </button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
